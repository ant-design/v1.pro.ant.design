webpackJsonp([85],{1715:function(n,s){n.exports={content:["article",{},["h2","Authorization component Authorized"],["p","This is the basis for scaffolding rights management. The basic idea is to determine whether to display normal rendering content or abnormal content by comparing the current permissions and access permissions. For details, see ",["a",{title:null,href:"/components/Authorized"},"Authorized Documentation"],"."],["h2","Applications"],["p","Through the application of data organization and permission components, the scaffold implements basic rights management. The following briefly introduces the application of several common scenarios."],["blockquote",["p","The basic encapsulation of the RenderAuthorized function of component export in the scaffold (",["a",{title:null,href:"https://github.com/ant-design/ant-design-pro/blob/master/src/utils/Authorized.js"},"https://github.com/ant-design/ant-design-pro/blob/master/src/utils/Authorized.js"],") The permissions (mock data), so when using in the scaffold, do not need to pay attention to the current permissions."]],["h3","Control menu display"],["p","For permission control of certain menus, just go to the menu configuration file ",["a",{title:null,href:"https://github.com/ant-design/ant-design-pro/blob/master/src/common/menu.js"},"menu.js"]," The menu item sets the authority attribute, which represents the access permission of the menu. In the menu generation file, Authorized.check is invoked by default for judgment processing."],["pre",{lang:"js",highlighted:'<span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> <span class="token string">\'Form page\'</span><span class="token punctuation">,</span>\n  icon<span class="token punctuation">:</span> <span class="token string">\'form\'</span><span class="token punctuation">,</span>\n  path<span class="token punctuation">:</span> <span class="token string">\'form\'</span><span class="token punctuation">,</span>\n  children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>\n    name<span class="token punctuation">:</span> <span class="token string">\'Basic form\'</span><span class="token punctuation">,</span>\n    path<span class="token punctuation">:</span> <span class="token string">\'basic-form\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    name<span class="token punctuation">:</span> <span class="token string">\'Step-by-step form\'</span><span class="token punctuation">,</span>\n    path<span class="token punctuation">:</span> <span class="token string">\'step-form\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    name<span class="token punctuation">:</span> <span class="token string">\'Advanced form\'</span><span class="token punctuation">,</span>\n    authority<span class="token punctuation">:</span> <span class="token string">\'admin\'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// Configure access permissions</span>\n    path<span class="token punctuation">:</span> <span class="token string">\'advanced-form\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>'},["code","{\n  name: 'Form page',\n  icon: 'form',\n  path: 'form',\n  children: [{\n    name: 'Basic form',\n    path: 'basic-form',\n  }, {\n    name: 'Step-by-step form',\n    path: 'step-form',\n  }, {\n    name: 'Advanced form',\n    authority: 'admin', // Configure access permissions\n    path: 'advanced-form',\n  }],\n}"]],["h3","Control routing"],["p","Similar to menu control, the configuration of routing permissions is also simple:"],["pre",{lang:"js",highlighted:'<span class="token comment" spellcheck="true">// src/common/router.js</span>\n<span class="token string">\'/dashboard/analysis\'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>\n  component<span class="token punctuation">:</span> <span class="token function">dynamicWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'chart\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">\'../routes/Dashboard/Analysis\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token string">\'/dashboard/monitor\'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>\n  component<span class="token punctuation">:</span> <span class="token function">dynamicWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'monitor\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">\'../routes/Dashboard/Monitor\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token string">\'/dashboard/workplace\'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>\n  component<span class="token punctuation">:</span> <span class="token function">dynamicWrapper</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'project\'</span><span class="token punctuation">,</span> <span class="token string">\'activities\'</span><span class="token punctuation">,</span> <span class="token string">\'chart\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">\'../routes/Dashboard/Workplace\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  authority<span class="token punctuation">:</span> <span class="token string">\'admin\'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// Configure access permissions</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>'},["code","// src/common/router.js\n'/dashboard/analysis': {\n  component: dynamicWrapper(app, ['chart'], () => import('../routes/Dashboard/Analysis')),\n},\n'/dashboard/monitor': {\n  component: dynamicWrapper(app, ['monitor'], () => import('../routes/Dashboard/Monitor')),\n},\n'/dashboard/workplace': {\n  component: dynamicWrapper(app, ['project', 'activities', 'chart'], () => import('../routes/Dashboard/Workplace')),\n  authority: 'admin', // Configure access permissions\n},"]],["blockquote",["p","Note: The permissions configured in the menu will be automatically synchronized to the corresponding route. If there are different configurations in router.js, the route control is based on router.js."]],["h3","Control page element display"],["p","Using ",["a",{title:null,href:"http://pro.ant.design/components/Authorized#Authorized"},"Authorized"]," or ",["a",{title:null,href:"http://pro.ant.design/components/Authorized#Authorized.Secured"},"Authorized.Secured"]," can be easily Control element/component rendering. For details, see the component documentation."],["h3","Modify current permissions"],["p","Scaffolding uses localstorage to simulate the role of permissions, which may need to be read from the background in real projects.\nA simple method of refreshing permissions was implemented in the scaffold, and the current permissions were updated at the key nodes such as login/logout.\nYou can check the call to ",["a",{title:null,href:"https://github.com/ant-design/ant-design-pro/blob/master/src/models/login.js#L22"},"reloadAuthorized"]," in login.js."]],meta:{order:24,title:"Authority Management",type:"Advanced",filename:"docs/authority-management.en-US.md"},description:["section",["p","Authority Management control is one of the common requirements in the background system. You can use the permission control components provided by us to implement some basic permission control functions. The scaffold also contains several simple examples to provide reference."]],toc:["ul",["li",["a",{className:"bisheng-toc-h2",href:"#Authorization-component-Authorized",title:"Authorization component Authorized"},"Authorization component Authorized"]],["li",["a",{className:"bisheng-toc-h2",href:"#Applications",title:"Applications"},"Applications"]]]}}});