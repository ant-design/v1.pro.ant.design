webpackJsonp([76],{1724:function(n,s){n.exports={content:["article",["p","During the user's use, various abnormal situations may be encountered, such as page 404, application result failure, request return exception, etc. This document will introduce the corresponding processing suggestions according to the different forms of error."],["h2","Page-level error"],["h3","Application scenario"],["ul",["li",["p","The route leads directly to the error page. For example, if the URL you entered does not match any page, it can be routed to the default 404 page."]],["li",["p","Code control jumps to the error page, such as returning data based on the request, and boots the user without permission to 403 page."]]],["h3","achieve"],["p","For page-level error, we provide two business components for you to choose, you can easily implement an error page:"],["ul",["li",["p",["a",{title:null,href:"http://preview.pro.ant.design/#/exception/404"},"Exception exception page"]],["pre",{lang:"js",highlighted:'<span class="token operator">&lt;</span>Exception type<span class="token operator">=</span><span class="token string">"404"</span> <span class="token operator">/</span><span class="token operator">></span>'},["code",'<Exception type="404" />']]]],["p","The default supports 404, 403, 500 three kinds of errors, but also can customize the copy and other content."],["ul",["li",["p",["a",{title:null,href:"http://preview.pro.ant.design/#/result/fail"},"Result result page"]],["pre",{lang:"js",highlighted:'<span class="token operator">&lt;</span>Result\n  type<span class="token operator">=</span><span class="token string">"error"</span>\n  title<span class="token operator">=</span><span class="token string">"Submit Failed"</span>\n  description<span class="token operator">=</span><span class="token string">"Please check and modify the following information before resubmitting."</span>\n  actions<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>Button size<span class="token operator">=</span><span class="token string">"large"</span> type<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>Return to edit<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span><span class="token punctuation">}</span>\n<span class="token operator">/</span><span class="token operator">></span>'},["code",'<Result\n  type="error"\n  title="Submit Failed"\n  description="Please check and modify the following information before resubmitting."\n  actions={<Button size="large" type="primary">Return to edit</Button>}\n/>']]]],["p","This component is generally used for submitting results, and copying operations can be customized."],["blockquote",["p","By default, scaffolding will redirect URLs that cannot match the page to the default 404 page. If you need to customize this page, you can modify the file ",["code","./src/routes/Exception/404.js"]," and the related route configuration here. ",["a",{title:null,href:"https://github.com/ant-design/ant-design-pro/blob/master/src/layouts/BasicLayout.js#L230"},"BasicLayout.js#L362"]]],["h2","Informed error"],["h3","Application scenario"],["ul",["li",["p","Form item verification error."]],["li",["p","Operational feedback."]],["li",["p","Network request error."]]],["h3","achieve"],["p","For errors on form items, please refer to the implementation in ",["a",{title:null,href:"http://ant.design/components/form-cn/"},"antd Form"],". For operation feedback and network request error prompts, there are some components that may be used:"],["ul",["li",["p",["a",{title:null,href:"http://ant.design/components/alert-cn/"},"Alert"]]],["li",["p",["a",{title:null,href:"http://ant.design/components/message-cn/"},"message"]]],["li",["p",["a",{title:null,href:"http://ant.design/components/notification-cn/"},"notification"]]]],["p","In single-page applications, the most common requirement is to handle network error messages. We can use message and notification to spit out the responding interface/network/service data errors."],["p",["img",{src:"https://gw.alipayobjects.com/zos/rmsportal/cVTaurnfguplvNbctgBN.png",width:"400"}]],["pre",{lang:"js",highlighted:'<span class="token keyword">import</span> fetch <span class="token keyword">from</span> <span class="token string">\'dva/fetch\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> notification <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'antd\'</span><span class="token punctuation">;</span>\n\n<span class="token operator">...</span>\n\n<span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// Processing the data returned by the interface format error logic</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      notification<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        message<span class="token punctuation">:</span> error<span class="token punctuation">.</span>name<span class="token punctuation">,</span>\n        description<span class="token punctuation">:</span> error<span class="token punctuation">.</span>message<span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">\'stack\'</span> <span class="token keyword">in</span> error <span class="token operator">&amp;&amp;</span> <span class="token string">\'message\'</span> <span class="token keyword">in</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      notification<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        message<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`Request Error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span>\n        description<span class="token punctuation">:</span> error<span class="token punctuation">.</span>message<span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> error<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>'},["code","import fetch from 'dva/fetch';\nimport { notification } from 'antd';\n\n...\n\nfetch(url)\n  .then(response => response.json())\n  .catch((error) => {\n    // Processing the data returned by the interface format error logic\n    if (error.code) {\n      notification.error({\n        message: error.name,\n        description: error.message,\n      });\n    }\n    if ('stack' in error && 'message' in error) {\n      notification.error({\n        message: `Request Error: ${url}`,\n        description: error.message,\n      });\n    }\n    return error;\n  });"]],["p","Ant Design Pro encapsulates a ",["code","request.js"]," unified processing request. For complete code, refer to:\n",["a",{title:null,href:"https://github.com/ant-design/ant-design-pro/blob/master/src/utils/request.js"},"https://github.com/ant-design/ant-design-pro/blob/master/src/utils/request.js"]]],meta:{order:17,title:"Error Handle",type:"Advanced",filename:"docs/error.en-US.md"},toc:["ul",["li",["a",{className:"bisheng-toc-h2",href:"#Page-level-error",title:"Page-level error"},"Page-level error"]],["li",["a",{className:"bisheng-toc-h2",href:"#Informed-error",title:"Informed error"},"Informed error"]]]}}});